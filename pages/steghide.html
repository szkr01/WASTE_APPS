<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StegHide Web | Secure Browser Steganography</title>
    <meta name="description" content="A browser-based steganography tool inspired by Steghide. Encrypt and hide data inside images locally using AES encryption and LSB encoding.">
    <meta name="page:icon" content="fas fa-user-secret">
    <meta name="page:color" content="#0f172a">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Crypto JS for AES Encryption -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        cyber: {
                            900: '#050505',
                            800: '#0f172a',
                            700: '#1e293b',
                            accent: '#0ea5e9', // Sky blue
                            success: '#10b981',
                            danger: '#ef4444',
                            terminal: '#33ff00'
                        }
                    },
                    boxShadow: {
                        'neon': '0 0 10px rgba(14, 165, 233, 0.3), 0 0 20px rgba(14, 165, 233, 0.1)',
                        'neon-red': '0 0 10px rgba(239, 68, 68, 0.3), 0 0 20px rgba(239, 68, 68, 0.1)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #e2e8f0;
            overflow: hidden; /* Prevent global scroll */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .scan-line {
            width: 100%;
            height: 2px;
            background: rgba(14, 165, 233, 0.5);
            position: absolute;
            top: 0;
            left: 0;
            animation: scan 3s linear infinite;
            z-index: 10;
            pointer-events: none;
            display: none;
        }

        @keyframes scan {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        .terminal-text {
            text-shadow: 0 0 5px rgba(51, 255, 0, 0.5);
        }

        /* Input styling */
        input[type="file"]::file-selector-button {
            display: none;
        }

        .mode-active {
            background-color: rgba(14, 165, 233, 0.15);
            border-color: #0ea5e9;
            color: #0ea5e9;
        }
    </style>
</head>
<body class="h-screen w-screen flex flex-col font-sans selection:bg-cyber-accent selection:text-white">

    <!-- Header -->
    <header class="h-14 border-b border-slate-800 flex items-center justify-between px-6 bg-cyber-800 z-50">
        <div class="flex items-center gap-3">
            <i class="fas fa-user-secret text-cyber-accent text-xl"></i>
            <h1 class="font-bold text-lg tracking-wider">STEGHIDE<span class="text-cyber-accent font-light">WEB</span></h1>
        </div>
        <div class="text-xs text-slate-500 font-mono flex items-center gap-4">
            <span class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bg-cyber-success animate-pulse"></div> SYSTEM READY</span>
            <span>v2.0.4-L</span>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 flex overflow-hidden">
        
        <!-- Sidebar / Controls -->
        <aside class="w-80 border-r border-slate-800 flex flex-col bg-cyber-900/50">
            <div class="p-6 flex-1 overflow-y-auto">
                
                <!-- Mode Switcher -->
                <div class="flex mb-8 bg-slate-800 rounded-lg p-1">
                    <button id="mode-embed" class="flex-1 py-2 text-sm font-bold rounded-md transition-all duration-300 mode-active" onclick="switchMode('embed')">
                        <i class="fas fa-lock mr-2"></i> EMBED
                    </button>
                    <button id="mode-extract" class="flex-1 py-2 text-sm font-bold rounded-md text-slate-400 hover:text-white transition-all duration-300" onclick="switchMode('extract')">
                        <i class="fas fa-lock-open mr-2"></i> EXTRACT
                    </button>
                </div>

                <!-- Settings -->
                <div class="space-y-6">
                    <!-- Password -->
                    <div class="group">
                        <label class="block text-xs font-mono text-cyber-accent mb-2 uppercase tracking-widest">Passphrase</label>
                        <div class="relative">
                            <i class="fas fa-key absolute left-3 top-3 text-slate-500"></i>
                            <input type="password" id="passphrase" placeholder="Enter secure key..." 
                                class="w-full bg-slate-900 border border-slate-700 rounded-lg py-2.5 pl-10 pr-3 text-sm focus:outline-none focus:border-cyber-accent focus:ring-1 focus:ring-cyber-accent transition-all placeholder-slate-600">
                        </div>
                    </div>

                    <!-- Embed Input (Only for Embed Mode) -->
                    <div id="embed-controls" class="space-y-4">
                        <label class="block text-xs font-mono text-cyber-accent mb-2 uppercase tracking-widest">Secret Message</label>
                        <textarea id="secret-message" rows="8" placeholder="Type your hidden message here..."
                            class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm focus:outline-none focus:border-cyber-accent transition-all placeholder-slate-600 resize-none font-mono text-xs"></textarea>
                    </div>

                    <!-- Extract Controls (Only for Extract Mode) -->
                    <div id="extract-controls" class="hidden space-y-4">
                        <div class="p-4 rounded-lg border border-slate-700 bg-slate-900/50">
                            <p class="text-xs text-slate-400 leading-relaxed">
                                <i class="fas fa-info-circle mr-1"></i>
                                Upload the image containing the hidden data. Ensure you have the correct passphrase used during encryption.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Button -->
            <div class="p-6 border-t border-slate-800 bg-cyber-800">
                <button id="action-btn" class="w-full bg-cyber-accent hover:bg-sky-400 text-black font-bold py-3 rounded shadow-neon transition-all duration-300 flex items-center justify-center gap-2" onclick="processAction()">
                    <i class="fas fa-microchip"></i> <span>ENCODE DATA</span>
                </button>
            </div>
        </aside>

        <!-- Main Workspace -->
        <section class="flex-1 flex flex-col relative bg-slate-900">
            
            <!-- Image Area -->
            <div class="flex-1 p-8 flex gap-6 overflow-hidden">
                
                <!-- Input Image -->
                <div class="flex-1 flex flex-col h-full min-h-0">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-xs font-mono text-slate-400">SOURCE INPUT</h3>
                        <button onclick="document.getElementById('file-upload').click()" class="text-xs text-cyber-accent hover:text-white transition-colors cursor-pointer"><i class="fas fa-upload mr-1"></i> Select File</button>
                    </div>
                    
                    <div id="drop-zone" class="flex-1 glass-panel rounded-xl border-dashed border-2 border-slate-700 flex flex-col items-center justify-center relative overflow-hidden group transition-all hover:border-cyber-accent/50 cursor-pointer"
                        ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event)" onclick="document.getElementById('file-upload').click()">
                        
                        <input type="file" id="file-upload" class="hidden" accept="image/png, image/jpeg, image/webp" onchange="handleFileSelect(event)">
                        
                        <!-- Empty State -->
                        <div id="empty-state" class="text-center pointer-events-none transition-opacity duration-300">
                            <div class="w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                <i class="fas fa-image text-2xl text-slate-500 group-hover:text-cyber-accent"></i>
                            </div>
                            <p class="text-slate-400 font-medium">Drop Image or Click to Browse</p>
                            <p class="text-slate-600 text-xs mt-2">Supports PNG, JPG, WEBP</p>
                        </div>

                        <!-- Image Preview -->
                        <img id="preview-img" class="absolute inset-0 w-full h-full object-contain p-4 hidden z-10" alt="Source">
                        <div id="scan-overlay" class="scan-line"></div>
                    </div>
                    
                    <div id="file-info" class="h-6 mt-2 text-xs font-mono text-slate-500 flex justify-between opacity-0 transition-opacity">
                        <span id="file-name">filename.png</span>
                        <span id="file-dims">0x0 px</span>
                    </div>
                </div>

                <!-- Result Area (Preview/Output) -->
                <div class="flex-1 flex flex-col h-full min-h-0">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-xs font-mono text-slate-400">OUTPUT / PREVIEW</h3>
                        <button id="download-btn" onclick="downloadResult()" class="hidden text-xs text-cyber-success hover:text-white transition-colors"><i class="fas fa-download mr-1"></i> Save Image</button>
                    </div>

                    <div class="flex-1 glass-panel rounded-xl border border-slate-700 flex flex-col items-center justify-center relative overflow-hidden bg-black/40">
                        <canvas id="result-canvas" class="max-w-full max-h-full p-4 object-contain"></canvas>
                        
                        <!-- Placeholder -->
                        <div id="output-placeholder" class="absolute inset-0 flex items-center justify-center pointer-events-none text-slate-700">
                            <i class="fas fa-chess-board text-6xl opacity-20"></i>
                        </div>

                        <!-- Decoded Text Output Overlay -->
                        <div id="decoded-output-container" class="absolute inset-0 bg-slate-900/95 p-6 hidden flex-col">
                            <div class="flex justify-between items-center mb-4 pb-2 border-b border-slate-700">
                                <span class="text-cyber-success font-mono text-sm"><i class="fas fa-check-circle mr-2"></i>DECRYPTED PAYLOAD</span>
                                <button onclick="copyToClipboard()" class="text-slate-400 hover:text-white"><i class="fas fa-copy"></i></button>
                            </div>
                            <div class="flex-1 overflow-auto">
                                <p id="decoded-text" class="font-mono text-sm text-slate-300 break-words whitespace-pre-wrap"></p>
                            </div>
                        </div>
                    </div>

                    <div class="h-6 mt-2 text-xs font-mono text-slate-500 flex justify-between">
                        <span id="capacity-info">Capacity: 0 bytes</span>
                        <span id="status-text">Idle</span>
                    </div>
                </div>

            </div>

            <!-- Terminal / Log -->
            <div class="h-32 bg-black border-t border-slate-800 font-mono text-xs p-3 overflow-y-auto" id="console-log">
                <div class="text-cyber-terminal opacity-50 mb-1">> Initializing StegHide Web Environment...</div>
                <div class="text-cyber-terminal opacity-50 mb-1">> Loaded libraries: Crypto-JS, Tailwind</div>
                <div class="text-cyber-terminal opacity-50 mb-1">> Waiting for user input...</div>
            </div>
        </section>
    </main>

    <script>
        // --- State Management ---
        const state = {
            mode: 'embed', // 'embed' or 'extract'
            imageLoaded: false,
            imageData: null, // Canvas ImageData
            originalFile: null
        };

        // --- DOM Elements ---
        const els = {
            dropZone: document.getElementById('drop-zone'),
            fileInput: document.getElementById('file-upload'),
            previewImg: document.getElementById('preview-img'),
            emptyState: document.getElementById('empty-state'),
            fileName: document.getElementById('file-name'),
            fileDims: document.getElementById('file-dims'),
            fileInfo: document.getElementById('file-info'),
            passphrase: document.getElementById('passphrase'),
            secretMsg: document.getElementById('secret-message'),
            actionBtn: document.getElementById('action-btn'),
            canvas: document.getElementById('result-canvas'),
            ctx: document.getElementById('result-canvas').getContext('2d', { willReadFrequently: true }),
            console: document.getElementById('console-log'),
            downloadBtn: document.getElementById('download-btn'),
            capacityInfo: document.getElementById('capacity-info'),
            statusText: document.getElementById('status-text'),
            decodedContainer: document.getElementById('decoded-output-container'),
            decodedText: document.getElementById('decoded-text'),
            scanOverlay: document.getElementById('scan-overlay'),
            embedControls: document.getElementById('embed-controls'),
            extractControls: document.getElementById('extract-controls'),
            outputPlaceholder: document.getElementById('output-placeholder')
        };

        // --- Event Listeners ---
        function switchMode(mode) {
            state.mode = mode;
            els.decodedContainer.classList.add('hidden');
            els.canvas.classList.remove('hidden');
            
            if (mode === 'embed') {
                document.getElementById('mode-embed').classList.add('mode-active', 'text-black');
                document.getElementById('mode-embed').classList.remove('text-slate-400');
                document.getElementById('mode-extract').classList.remove('mode-active', 'text-black');
                document.getElementById('mode-extract').classList.add('text-slate-400');
                
                els.embedControls.classList.remove('hidden');
                els.extractControls.classList.add('hidden');
                els.actionBtn.innerHTML = '<i class="fas fa-microchip"></i> <span>ENCODE DATA</span>';
                els.actionBtn.classList.remove('bg-cyber-success', 'hover:bg-green-400', 'shadow-neon-red');
                els.actionBtn.classList.add('bg-cyber-accent', 'hover:bg-sky-400', 'shadow-neon');
                
                // Show canvas again if image loaded
                if(state.imageLoaded) els.downloadBtn.classList.remove('hidden');

            } else {
                document.getElementById('mode-extract').classList.add('mode-active', 'text-black');
                document.getElementById('mode-extract').classList.remove('text-slate-400');
                document.getElementById('mode-embed').classList.remove('mode-active', 'text-black');
                document.getElementById('mode-embed').classList.add('text-slate-400');
                
                els.embedControls.classList.add('hidden');
                els.extractControls.classList.remove('hidden');
                els.actionBtn.innerHTML = '<i class="fas fa-unlock"></i> <span>DECODE DATA</span>';
                els.actionBtn.classList.remove('bg-cyber-accent', 'hover:bg-sky-400', 'shadow-neon');
                els.actionBtn.classList.add('bg-cyber-success', 'hover:bg-green-400');
                
                els.downloadBtn.classList.add('hidden');
            }
            log(`Switched to ${mode.toUpperCase()} mode.`);
        }

        // --- File Handling ---
        function handleDragOver(e) {
            e.preventDefault();
            els.dropZone.classList.add('border-cyber-accent', 'bg-slate-800');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            els.dropZone.classList.remove('border-cyber-accent', 'bg-slate-800');
        }

        function handleDrop(e) {
            e.preventDefault();
            els.dropZone.classList.remove('border-cyber-accent', 'bg-slate-800');
            const file = e.dataTransfer.files[0];
            if (file) processFile(file);
        }

        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) processFile(file);
        }

        function processFile(file) {
            if (!file.type.match('image.*')) {
                log('Error: File is not an image.', 'error');
                return;
            }

            state.originalFile = file;
            const reader = new FileReader();

            reader.onload = (e) => {
                const img = new Image();
                img.onload = () => {
                    // Reset UI
                    els.previewImg.src = e.target.result;
                    els.previewImg.classList.remove('hidden');
                    els.emptyState.classList.add('hidden');
                    els.fileInfo.classList.remove('opacity-0');
                    els.fileName.innerText = file.name.length > 20 ? file.name.substring(0, 17) + '...' : file.name;
                    els.fileDims.innerText = `${img.width}x${img.height} px`;
                    els.outputPlaceholder.classList.add('hidden');
                    
                    // Draw to canvas
                    els.canvas.width = img.width;
                    els.canvas.height = img.height;
                    els.ctx.drawImage(img, 0, 0);
                    state.imageData = els.ctx.getImageData(0, 0, img.width, img.height);
                    state.imageLoaded = true;

                    // Calculate Capacity (3 bits per pixel for RGB)
                    // We need some bits for metadata (length), say 32 bits.
                    const totalPixels = img.width * img.height;
                    const maxBytes = Math.floor((totalPixels * 3) / 8) - 4; 
                    els.capacityInfo.innerText = `Max Capacity: ${(maxBytes/1024).toFixed(2)} KB`;
                    
                    log(`Image loaded: ${file.name} (${img.width}x${img.height})`);
                    
                    // Clear previous results
                    els.decodedContainer.classList.add('hidden');
                    if(state.mode === 'embed') els.downloadBtn.classList.remove('hidden');
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        // --- Steganography Logic (LSB) ---

        // Helper to convert string to binary string
        function stringToBinary(str) {
            return str.split('').map(char => {
                return char.charCodeAt(0).toString(2).padStart(8, '0');
            }).join('');
        }

        // Helper to convert binary string to text
        function binaryToString(bin) {
            let str = '';
            for (let i = 0; i < bin.length; i += 8) {
                str += String.fromCharCode(parseInt(bin.substr(i, 8), 2));
            }
            return str;
        }

        // Helper: number to 32-bit binary string
        function numTo32Bit(num) {
            return num.toString(2).padStart(32, '0');
        }

        function processAction() {
            if (!state.imageLoaded) {
                log('Error: No image loaded.', 'error');
                alert("Please load an image first.");
                return;
            }

            const passphrase = els.passphrase.value;
            if (!passphrase) {
                log('Error: Passphrase is required.', 'error');
                alert("Please enter a passphrase.");
                els.passphrase.focus();
                return;
            }

            els.scanOverlay.style.display = 'block';
            els.statusText.innerText = 'Processing...';
            els.actionBtn.disabled = true;
            els.actionBtn.classList.add('opacity-50', 'cursor-not-allowed');

            // Timeout to allow UI to update (spinner effect)
            setTimeout(() => {
                try {
                    if (state.mode === 'embed') {
                        encodeData(passphrase);
                    } else {
                        decodeData(passphrase);
                    }
                } catch (e) {
                    log(`Critical Error: ${e.message}`, 'error');
                } finally {
                    els.scanOverlay.style.display = 'none';
                    els.statusText.innerText = 'Idle';
                    els.actionBtn.disabled = false;
                    els.actionBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            }, 100);
        }

        function encodeData(password) {
            const text = els.secretMsg.value;
            if (!text) {
                log('Warning: No text to hide.', 'error');
                return;
            }

            log('Encrypting payload...');
            // 1. Encrypt text
            const encrypted = CryptoJS.AES.encrypt(text, password).toString();
            
            // 2. Convert to binary
            const binaryPayload = stringToBinary(encrypted);
            const lengthBinary = numTo32Bit(binaryPayload.length);
            const fullBinary = lengthBinary + binaryPayload;

            log(`Payload size: ${fullBinary.length} bits.`);
            
            const imgData = els.ctx.getImageData(0, 0, els.canvas.width, els.canvas.height);
            const data = imgData.data;
            const totalPixels = data.length / 4;
            
            if (fullBinary.length > totalPixels * 3) {
                log('Error: Data too large for this image.', 'error');
                alert("Data is too large for this image. Use a larger image or less text.");
                return;
            }

            log('Embedding data into LSB...');
            let bitIndex = 0;
            
            // LSB Algorithm: Iterate pixels, modify RGB channels
            for (let i = 0; i < data.length; i += 4) {
                if (bitIndex >= fullBinary.length) break;

                // Red
                if (bitIndex < fullBinary.length) {
                    data[i] = (data[i] & 0xFE) | parseInt(fullBinary[bitIndex]);
                    bitIndex++;
                }
                // Green
                if (bitIndex < fullBinary.length) {
                    data[i+1] = (data[i+1] & 0xFE) | parseInt(fullBinary[bitIndex]);
                    bitIndex++;
                }
                // Blue
                if (bitIndex < fullBinary.length) {
                    data[i+2] = (data[i+2] & 0xFE) | parseInt(fullBinary[bitIndex]);
                    bitIndex++;
                }
                // Skip Alpha (data[i+3]) to preserve transparency handling
            }

            els.ctx.putImageData(imgData, 0, 0);
            state.imageData = imgData; // Update state
            
            log('Success: Data encoded successfully.', 'success');
            els.downloadBtn.classList.remove('hidden');
        }

        function decodeData(password) {
            log('Reading image data...');
            const imgData = els.ctx.getImageData(0, 0, els.canvas.width, els.canvas.height);
            const data = imgData.data;
            
            let binaryStream = '';
            
            // 1. Extract Length (First 32 bits)
            for (let i = 0; i < data.length; i += 4) {
                if (binaryStream.length >= 32) break;
                binaryStream += (data[i] & 1).toString();
                if (binaryStream.length < 32) binaryStream += (data[i+1] & 1).toString();
                if (binaryStream.length < 32) binaryStream += (data[i+2] & 1).toString();
            }

            const payloadLength = parseInt(binaryStream, 2);
            log(`Detected payload length: ${payloadLength} bits`);

            if (payloadLength <= 0 || payloadLength > (data.length * 3)) {
                log('Error: No valid data found or corrupted header.', 'error');
                alert("Could not detect valid hidden data.");
                return;
            }

            // 2. Extract Payload
            let payloadBin = '';
            let bitCount = 0;
            // We need to skip the first 32 bits we just read. 
            // Re-looping isn't efficient but it's cleaner to implement for safety.
            // Let's implement a pointer logic.
            
            let currentBit = 0;
            const targetBits = 32 + payloadLength;
            
            for (let i = 0; i < data.length; i += 4) {
                if (currentBit >= targetBits) break;

                // Red
                if (currentBit >= 32) payloadBin += (data[i] & 1).toString();
                currentBit++;
                
                // Green
                if (currentBit >= targetBits) break;
                if (currentBit >= 32) payloadBin += (data[i+1] & 1).toString();
                currentBit++;

                // Blue
                if (currentBit >= targetBits) break;
                if (currentBit >= 32) payloadBin += (data[i+2] & 1).toString();
                currentBit++;
            }

            try {
                log('Decrypting...');
                const encryptedText = binaryToString(payloadBin);
                
                // Decrypt
                const bytes = CryptoJS.AES.decrypt(encryptedText, password);
                const originalText = bytes.toString(CryptoJS.enc.Utf8);

                if (!originalText) {
                    throw new Error("Wrong password or corrupted data");
                }

                // Show result
                els.decodedText.innerText = originalText;
                els.decodedContainer.classList.remove('hidden');
                els.canvas.classList.add('hidden'); // Hide canvas to show text clearly
                els.downloadBtn.classList.add('hidden');
                log('Success: Data extracted and decrypted.', 'success');

            } catch (err) {
                log('Error: Decryption failed. Wrong password?', 'error');
                alert("Decryption failed. Please check your password.");
            }
        }

        // --- Utilities ---
        function downloadResult() {
            if (!state.imageData) return;
            const link = document.createElement('a');
            link.download = 'steg_encoded_' + Date.now() + '.png';
            link.href = els.canvas.toDataURL('image/png');
            link.click();
            log('Image downloaded.');
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(els.decodedText.innerText);
            log('Copied to clipboard.');
            const icon = document.querySelector('.fa-copy');
            icon.classList.remove('fa-copy');
            icon.classList.add('fa-check');
            setTimeout(() => {
                icon.classList.add('fa-copy');
                icon.classList.remove('fa-check');
            }, 2000);
        }

        function log(msg, type = 'info') {
            const div = document.createElement('div');
            const time = new Date().toLocaleTimeString('en-US', {hour12: false});
            div.innerText = `[${time}] > ${msg}`;
            div.className = 'mb-1 font-mono text-xs ';
            
            if (type === 'error') div.className += 'text-cyber-danger';
            else if (type === 'success') div.className += 'text-cyber-success';
            else div.className += 'text-cyber-terminal opacity-80';

            els.console.appendChild(div);
            els.console.scrollTop = els.console.scrollHeight;
        }

        // Init
        log('System initialized.');
    </script>
</body>
</html>